<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="style.css">
</head>

<body>
    <div class="box">
        <div class="content">
            <img class="login-img images" src="asset/login.jpg" alt="登录">
            <img class="register-img images" src="asset/register.jpg" alt="注册">

            <div class="login-wrapper">
                <div class="top-tips">
                    <span>TotoTTMS</span>
                    <span class="top-tips-span">注册</span>
                </div>
                <h1 class="h1-text">登录</h1>
                <form class="login-form"  method="post"  action="../../LoginServlet">
                    <div class="user-form form-item">
                        <div class="text-tips">
                            <span>账号</span>
                        </div>
                        <input type="text" name="u_id"  value="" class="text-tips" >
                    </div>
                    <div class="password-form form-item">
                        <div class="text-tips">
                            <span>密码</span>
                        </div>
                        <input type="password" name="pwd" value="" class="text-tips">
                    </div>
                    <input type="submit" value="登录" class="btn" >
                </form>


                <form method="post" action="../../RegisterServlet1" class="register-form">
                    <div class="user-form form-item">
                        <div class="text-tips">
                            <span>账号</span>
                        </div>
                        <input type="text" name="u_id" value="">
                    </div>
                    <div class="password-form form-item">
                        <div class="text-tips">
                            <span>密码</span>
                        </div>
                        <input type="password" name="password">
                    </div>
                    <div class="password-form form-item">
                        <div class="text-tips">
                            <span>确认密码</span>
                        </div>
                        <input type="password" name="password_confirm" value="">
                    </div>
                    <input type="submit" value="注册" class="btn" onclick="return confirm('是否继续完善个人信息?','../register.html')">

                </form>
            </div>
        </div>
    </div>
</body>



<script>
    function confirm(msg, url) {
        var dialog = document.createElement('div');
        dialog.innerHTML = `<div>${msg}</div> <button>确认</button> <button>取消</button>`;
        var confirmBtn = dialog.querySelector('button:first-child');
        var cancelBtn = dialog.querySelector('button:last-child');

        confirmBtn.addEventListener('click', function() {
            location.href = url;    // 点击确认跳转页面
            closeDialog();
        });

        cancelBtn.addEventListener('click', function() {
            closeDialog();
        });

        function openDialog() {
            document.body.appendChild(dialog);
        }

        function closeDialog() {
            document.body.removeChild(dialog);
        }

        openDialog();
        return true;   // 点击取消继续表单提交
    }


    let flag = 1;
    document.querySelector('.top-tips-span').addEventListener('click', function () {
        if (flag) {
            document.querySelector('.content').classList.add("add-class-content");
            document.querySelector('.login-img').classList.add("add-class-login-img");
            document.querySelector('.register-img').classList.add("add-class-register-img");
            document.querySelector('.login-img').classList.remove("add-class-login-img-show");
            document.querySelector('.login-wrapper').style.height = '80vh';
            document.querySelector('.content').style.height = '90vh';
            document.querySelector('.login-form').style.display = 'none';
            document.querySelector('.register-form').style.display = 'block';
            document.querySelector('.top-tips-span').innerHTML = '登录';
            document.querySelector('.h1-text').innerHTML = '注册';
            flag = 0;
        }
        else {
            document.querySelector('.content').classList.remove("add-class-content");
            document.querySelector('.login-img').classList.remove("add-class-login-img");
            document.querySelector('.login-img').classList.add("add-class-login-img-show");
            document.querySelector('.register-img').classList.remove("add-class-register-img");
            document.querySelector('.login-wrapper').style.height = '70vh';
            document.querySelector('.content').style.height = '85vh';
            document.querySelector('.login-form').style.display = 'block';
            document.querySelector('.register-form').style.display = 'none';
            document.querySelector('.top-tips-span').innerHTML = '注册';
            document.querySelector('.h1-text').innerHTML = '登录';
            flag = 1;
        }
    })

</script>

</html>